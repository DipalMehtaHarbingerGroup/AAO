1 == AssessmentQuestionViewModel.markedStatus && $("#markQuestion").parent().find("i").removeClass("fa-star-o").addClass("fa-star"), 0 == AssessmentQuestionViewModel.markedStatus && $("#markQuestion").parent().find("i").removeClass("fa-star").addClass("fa-star-o"), $(document).ready(function () { $("#VersionInfo").append(navigator.appVersion); var e = null, s = null, t = AssessmentQuestionViewModel.isRightId, n = null; n = AssessmentQuestionViewModel.isYourAnswerCorrect; null != (e = AssessmentQuestionViewModel.next) && null != e || (e = -1), null != (s = AssessmentQuestionViewModel.prev) && null != s || (s = -2), AssessmentQuestionViewModel.examId, AssessmentQuestionViewModel.currentQuestionId, examAttemptId = AssessmentQuestionViewModel.examAttemptId; AssessmentQuestionViewModel.markedStatus; var i, o = AssessmentQuestionViewModel.examMode; AssessmentQuestionViewModel.examAnswerToShow; function a(e) { $(e).removeAttr("disabled"), $(e).removeClass("disabled") } function d(e) { $(e).attr("disabled", !0), $(e).addClass("disabled") } function r(e) { 1 == e ? ($("#nextID").removeClass("hidden"), $("#nextID").addClass("visible")) : ($("#nextID").removeClass("visible"), $("#nextID").addClass("hidden")) } function l(e) { $("input[name='ChoiceAnswer']:checked").val(), $("#challengeModetext").val(); $.ajax({ type: "POST", data: { questionId: AssessmentQuestionViewModel.currentQuestionId }, url: "/Assessment/GetRightChoiceId", async: !1, success: function (e) { AssessmentQuestionViewModel.rightChoiceId = e } }), 1 == AssessmentQuestionViewModel.examAnswerToShow ? (AssessmentQuestionViewModel.rightChoiceId = AssessmentQuestionViewModel.rightChoiceId, 1 == AssessmentQuestionViewModel.examTimeType && (timer.pause(), timerpause = !1), AssessmentQuestionViewModel.rightChoiceId == $("input[name='ChoiceAnswer']:checked").val() ? ($("#radioBtn" + AssessmentQuestionViewModel.rightChoiceId).addClass("bg-success flex-row-center"), $("#answertext" + AssessmentQuestionViewModel.rightChoiceId).html("Correct Answer"), $(".ChoiceAnswerclass").attr("disabled", !0), t = !0, $("#userSelectedChoiceflag").val(t), 1 == AssessmentQuestionViewModel.examMode ? ($("#nextID").attr("disabled", !0), $("#prevID").attr("disabled", !0)) : ($("#nextID").attr("disabled", !1), $("#prevID").attr("disabled", !1))) : 1 == AssessmentQuestionViewModel.examMode ? ($("#radioBtn" + $("input[name='ChoiceAnswer']:checked").val()).addClass("bg-danger flex-row-center"), $("#answertext" + $("input[name='ChoiceAnswer']:checked").val()).html("Your Answer"), $("#radioBtn" + AssessmentQuestionViewModel.rightChoiceId).addClass("bg-success flex-row-center"), $("#answertext" + AssessmentQuestionViewModel.rightChoiceId).html("Correct Answer"), $(".ChoiceAnswerclass").attr("disabled", !0), t = !1, $("#userSelectedChoiceflag").val(t)) : ($("#radioBtn" + $("input[name='ChoiceAnswer']:checked").val()).addClass("bg-danger flex-row-center"), $("#answertext" + $("input[name='ChoiceAnswer']:checked").val()).html("Your Answer"), $("#radioBtn" + AssessmentQuestionViewModel.rightChoiceId).addClass("bg-success flex-row-center"), $("#answertext" + AssessmentQuestionViewModel.rightChoiceId).html("Correct Answer"), 1 == AssessmentQuestionViewModel.examType || 0 == AssessmentQuestionViewModel.examAnswerToShow ? $(".ChoiceAnswerclass").attr("disabled", !1) : $(".ChoiceAnswerclass").attr("disabled", !0), t = !1, $("#userSelectedChoiceflag").val(t), $("#nextID").attr("disabled", !1), $("#prevID").attr("disabled", !1))) : (AssessmentQuestionViewModel.rightChoiceId == $("input[name='ChoiceAnswer']:checked").val() ? (1 == AssessmentQuestionViewModel.examType || 0 == AssessmentQuestionViewModel.examAnswerToShow ? $(".ChoiceAnswerclass").attr("disabled", !1) : $(".ChoiceAnswerclass").attr("disabled", !0), t = !0, $("#userSelectedChoiceflag").val(t)) : (1 == AssessmentQuestionViewModel.examType || 0 == AssessmentQuestionViewModel.examAnswerToShow ? $(".ChoiceAnswerclass").attr("disabled", !1) : $(".ChoiceAnswerclass").attr("disabled", !0), t = !1, $("#userSelectedChoiceflag").val(t)), 1 == o && AssessmentQuestionViewModel.rightChoiceId == $("input[name='ChoiceAnswer']:checked").val() && (0 == AssessmentQuestionViewModel.examAnswerToShow ? $(".ChoiceAnswerclass").attr("disabled", !1) : $(".ChoiceAnswerclass").attr("disabled", !0), t = !0, $("#userSelectedChoiceflag").val(t), $("#nextID").attr("disabled", !0), $("#prevID").attr("disabled", !0))); var s = $("input[name='ChoiceAnswer']:checked").val(), n = $.map(AssessmentQuestionViewModel.choiceList, function (e, s) { return [e.choiceId] }).join(", "); $.ajax({ url: "/Assessment/ExamAttemptByuser", type: "POST", cache: !1, dataType: "html", data: { ExamId: AssessmentQuestionViewModel.examId, Questionid: AssessmentQuestionViewModel.currentQuestionId, ChoiceSelected: s, ExamattemptId: AssessmentQuestionViewModel.examAttemptId, isRight: t, userStatechoiceIDList: n, ButtonType: e } }).done(function (e) { var s = JSON.parse(e); $("#peerdetailsOnload").hide(), $("#peerdetailsOnSelect").show(), function (e) { $.each(e.PeerDetails, function (e, s) { $("input[type='radio'].ChoiceAnswerclass:checked").val(); var t = parseInt(AssessmentQuestionViewModel.PeerUserType); if (1 == s.IsRightChoice) { Mychoice = 1 == t ? parseFloat(s.ChoicePercentage).toFixed() + "% of respondents answered correctly." : parseFloat(s.ChoicePercentage).toFixed() + "% of peers answered correctly.", $("#comparisonPercentSpan").append(Mychoice); var n = $("<li class=font-green></li>"), i = $(n).append(s.ChoiceOption + ". " + parseFloat(s.ChoicePercentage).toFixed() + "%"); $("#PeerDetailsDiv").append(i) } else if ($("input[type='radio'].ChoiceAnswerclass:checked").val() == s.ChoiceId) { var n = $("<li class=font-red></li>"), i = $(n).append(s.ChoiceOption + ". " + parseFloat(s.ChoicePercentage).toFixed() + "%"); $("#PeerDetailsDiv").append(i) } else { var n = $("<li></li>"), i = $(n).append(s.ChoiceOption + ". " + parseFloat(s.ChoicePercentage).toFixed() + "%"); $("#PeerDetailsDiv").append(i) } }) }(s), 1 == AssessmentQuestionViewModel.examMode && $("#AnswerChoiceSelectDiv").show(), 1 == AssessmentQuestionViewModel.examAnswerToShow ? ($("#ExplainationDiv").load(), $("#ExplainationDiv").show(), $("#Contentcontainer").show()) : ($("#ExplainationDiv").hide(), $("#Contentcontainer").hide()) }) } function c(e, s) { timerpause = !0, timer.start(); var i = $("input[type='radio'].ChoiceAnswerclass:checked").val(); AssessmentQuestionViewModel.examAttemptId; e.preventDefault(), $.ajax({ url: "/Assessment/QuestionListIndex", type: "POST", cache: !1, dataType: "html", data: { ExamId: AssessmentQuestionViewModel.examId, Questionid: AssessmentQuestionViewModel.next, ChoiceSelected: i, ExamattemptId: AssessmentQuestionViewModel.examAttemptId, CurrentQuestionid: AssessmentQuestionViewModel.currentQuestionId, isRight: t, IsYourAnswer: n, ButtonType: s } }).done(function (e) { "" != e && ($("#container").html(""), $("#container").html(e), $("#userselectedchoiceId").val() > 0 && 1 == AssessmentQuestionViewModel.examAnswerToShow && ($("#ExplainationDiv").show(), $("#Contentcontainer").show()), $("#userselectedchoiceId").val() > 0 && 0 == AssessmentQuestionViewModel.examAnswerToShow && ($("#ExplainationDiv").hide(), $("#Contentcontainer").hide()), 1 == AssessmentQuestionViewModel.examMode && $("#userselectedchoiceId").val() > 0 && 1 == AssessmentQuestionViewModel.examAnswerToShow && ($("#ExplainationDiv").show(), $("#Contentcontainer").show(), $("#inlineRadio1").prop("disabled", !0), $("#inlineRadio2").prop("disabled", !0), $("#AnswerChoiceSelectDiv").show(), 1 == AssessmentQuestionViewModel.isYourAnswerCorrect && $("#inlineRadio1").prop("checked", !0), 2 == AssessmentQuestionViewModel.isYourAnswerCorrect && $("#inlineRadio2").prop("checked", !0)), 1 == AssessmentQuestionViewModel.examMode && $("#userselectedchoiceId").val() > 0 && 0 == AssessmentQuestionViewModel.examAnswerToShow && ($("#ExplainationDiv").hide(), $("#Contentcontainer").hide(), $("#inlineRadio1").prop("disabled", !0), $("#inlineRadio2").prop("disabled", !0), $("#AnswerChoiceSelectDiv").show(), 1 == AssessmentQuestionViewModel.isYourAnswerCorrect && $("#inlineRadio1").prop("checked", !0), 2 == AssessmentQuestionViewModel.isYourAnswerCorrect && $("#inlineRadio2").prop("checked", !0))) }) } AssessmentQuestionViewModel.examStatus, $(".img11").off("click"), $(".img11").on("click", function () { var e = $(this).attr("src"); $("#showimg").empty(), $("#showimg").attr("src", e) }), $(".myDIV").off("click"), $(".myDIV").on("click", function () { var e = $(this).parent().find("img").attr("src"); $("#showimg").empty(), $("#showimg").attr("src", e) }), $("#myModal").draggable({ handle: ".modal-header" }), 0 == AssessmentQuestionViewModel.examMode ? ($("#AnswerChoiceSelectDiv").hide(), $("#ChallengeModediv").hide(), $("#answerChoice").show()) : 1 == AssessmentQuestionViewModel.examMode && 0 == $("#userselectedchoiceId").val() ? ($("#answerChoice").hide(), $("#Contentcontainer").hide(), $("#AnswerChoiceSelectDiv").hide(), $("#ExplainationDiv").hide(), $("#ChallengeModediv").show()) : 1 == AssessmentQuestionViewModel.examMode && 0 != $("#userselectedchoiceId").val() ? ($("#ChallengeModediv").show(), $("#Contentcontainer").hide(), $("#ExplainationDiv").hide(), $("#AnswerChoiceSelectDiv").hide(), $("#answerChoice").show()) : ($("#answerChoice").show(), $("#Contentcontainer").show()), AssessmentQuestionViewModel.choiceId > 0 && $.ajax({ type: "POST", data: { questionId: AssessmentQuestionViewModel.currentQuestionId }, url: "/Assessment/GetRightChoiceId", async: !1, success: function (e) { AssessmentQuestionViewModel.rightChoiceId = e } }), $("#challengeModetext").keyup(function () { $("#challengemodeSubmit").attr("disabled", !$("#challengeModetext").val()) }), $("#challengemodeSubmit").click(function () { var e = $("#challengeModetext").val(); $.ajax({ type: "GET", data: { ExamId: AssessmentQuestionViewModel.examId, CurrentQuestionid: AssessmentQuestionViewModel.currentQuestionId, ExamattemptId: AssessmentQuestionViewModel.examAttemptId, ExamAttemptText: e, TextType: "C" }, url: "/Assessment/AddNotesAnswerText", success: function (e) { $("#challengeModetext").attr("disabled", !0), $("#challengemodeSubmit").attr("disabled", !0); $("#challengeModetext").val(); $("#answerChoice").show(), $("#ChallengeModediv").show(), $("#nextID").attr("disabled", !0), $("#prevID").attr("disabled", !0), $("input[name='ChoiceAnswer']:checked").val() ? ($("#nextID").attr("disabled", !1), $("#prevID").attr("disabled", !1)) : ($("#nextID").attr("disabled", !0), $("#prevID").attr("disabled", !0)) } }), $("#answerChoice").hide(), $("#ChallengeModediv").hide(), $("#AnswerChoiceSelectDiv").hide(), $("#nextID").attr("disabled", !0), $("#prevID").attr("disabled", !0) }), $(".DialogClose").on("click", function () { $("#NoteTextArea").val(""), $(".Notespan").text("") }), $("#CancelNoteBtn").on("click", function () { $("#NoteTextArea").val(""), $(".Notespan").text("") }), 1 == AssessmentQuestionViewModel.examAnswerToShow && ($("#ExplainationDiv").hide(), $("#Contentcontainer").hide(), $("#userselectedchoiceId").val() > 0 && "False" == $("#isRightChoiceflag").val() ? ($("#ExplainationDiv").show(), $("#Contentcontainer").show(), $("#answertext" + $("#userselectedchoiceId").val()).html(""), $("#radioBtn" + $("#userselectedchoiceId").val()).addClass("bg-danger flex-row-center"), $("#answertext" + $("#userselectedchoiceId").val()).html("Your Answer"), $("#radioBtn" + AssessmentQuestionViewModel.rightChoiceId).addClass("bg-success flex-row-center"), $("#answertext" + AssessmentQuestionViewModel.rightChoiceId).html("Correct Answer"), $("#challengeModetext").attr("disabled", !0)) : $("#userselectedchoiceId").val() > 0 && "True" == $("#isRightChoiceflag").val() ? ($("#ExplainationDiv").show(), $("#Contentcontainer").show(), $("#answertext" + $("#userselectedchoiceId").val()).html(""), $("#radioBtn" + AssessmentQuestionViewModel.rightChoiceId).addClass("bg-success flex-row-center"), $("#answertext" + $("#userselectedchoiceId").val()).html("Correct Answer"), $("#challengeModetext").attr("disabled", !0)) : "" != AssessmentQuestionViewModel.rightChoiceId && $("#userselectedchoiceId").val() > 0 && "" != $("#isRightChoiceflag").val() && ($("#answertext" + AssessmentQuestionViewModel.rightChoiceId).html(""), $("#radioBtn" + AssessmentQuestionViewModel.rightChoiceId).addClass("bg-success flex-row-center"), $("#answertext" + AssessmentQuestionViewModel.rightChoiceId).html("Correct Answer"), $("#challengeModetext").attr("disabled", !0))), 0 == AssessmentQuestionViewModel.examAnswerToShow && ($("#ExplainationDiv").hide(), $("#Contentcontainer").hide()), $(".ChoiceAnswerclass").on("change", function () { 3 != AssessmentQuestionViewModel.examType && l(), 3 == AssessmentQuestionViewModel.examType && (a($("#SpacedRepetitionSubmitConfident")), a($("#SpacedRepetitionSubmitNotConfident"))) }), $("#SpacedRepetitionSubmitConfident").on("click", function (e) { l(3), c(e, 3), r(!0), d($("#SpacedRepetitionSubmitNotConfident")) }), $("#SpacedRepetitionSubmitNotConfident").on("click", function (e) { l(4), c(e, 4), r(!0), d($("#SpacedRepetitionSubmitConfident")) }), $(".nextID").bind("click", function (e) { c(e, 2) }), $(".prevID").bind("click", function () { timerpause = !0, timer.start(); var e = $("input[type='radio'].ChoiceAnswerclass:checked").val(); AssessmentQuestionViewModel.markedStatus, AssessmentQuestionViewModel.examAttemptId; $.ajax({ url: "/Assessment/QuestionListIndex", type: "POST", cache: !1, dataType: "html", data: { ExamId: AssessmentQuestionViewModel.examId, Questionid: AssessmentQuestionViewModel.prev, ChoiceSelected: e, ExamattemptId: AssessmentQuestionViewModel.examAttemptId, CurrentQuestionid: AssessmentQuestionViewModel.currentQuestionId, isRight: t, IsYourAnswer: n, ButtonType: 1 } }).done(function (e) { $("#container").html(""), $("#container").html(e), $("#userselectedchoiceId").val() > 0 && 1 == AssessmentQuestionViewModel.examAnswerToShow && ($("#ExplainationDiv").show(), $("#Contentcontainer").show()), $("#userselectedchoiceId").val() > 0 && 0 == AssessmentQuestionViewModel.examAnswerToShow && ($("#ExplainationDiv").hide(), $("#Contentcontainer").hide()), $("#userselectedchoiceId").val() > 0 && 1 == AssessmentQuestionViewModel.examMode && 1 == AssessmentQuestionViewModel.examAnswerToShow && ($("#ExplainationDiv").show(), $("#Contentcontainer").show(), $("#inlineRadio1").prop("disabled", !0), $("#inlineRadio2").prop("disabled", !0), $("#AnswerChoiceSelectDiv").show(), 1 == AssessmentQuestionViewModel.isYourAnswerCorrect && $("#inlineRadio1").prop("checked", !0), 2 == AssessmentQuestionViewModel.isYourAnswerCorrect && $("#inlineRadio2").prop("checked", !0)), $("#userselectedchoiceId").val() > 0 && 1 == AssessmentQuestionViewModel.examMode && 0 == AssessmentQuestionViewModel.examAnswerToShow && ($("#ExplainationDiv").hide(), $("#Contentcontainer").hide(), $("#inlineRadio1").prop("disabled", !0), $("#inlineRadio2").prop("disabled", !0), $("#AnswerChoiceSelectDiv").show(), 1 == AssessmentQuestionViewModel.isYourAnswerCorrect && $("#inlineRadio1").prop("checked", !0), 2 == AssessmentQuestionViewModel.isYourAnswerCorrect && $("#inlineRadio2").prop("checked", !0)) }) }), $("#submit").bind("click", function () { $("#submit").attr("disabled", !0), $.ajax({ url: "/Assessment/SubmitExam", type: "POST", cache: !1, dataType: "html", data: { ExamId: AssessmentQuestionViewModel.examId, ExamattemptId: AssessmentQuestionViewModel.examAttemptId }, success: function (e) { 1 == e ? ($("#SubmittedSuccessDialog").modal("show"), setTimeout(function () { $("#SubmittedSuccessDialog").modal("hide") }, 3e3), setTimeout(function () { window.location.href = "/ExamHistory/Index" }, 3e3)) : $("#SubmittedErrorDialog").modal() } }) }), $("#AddNoteBtn").on("click", function (e) { if ("" == $.trim($("#NoteTextArea").val())) { return $(".Notespan").text("Please enter your notes"), !1 } $("#NoteTextArea").val(); $.ajax({ type: "post", data: { ExamId: AssessmentQuestionViewModel.examId, CurrentQuestionid: AssessmentQuestionViewModel.currentQuestionId, ExamattemptId: AssessmentQuestionViewModel.examAttemptId, ExamAttemptText: $("#NoteTextArea").val(), TextType: "N" }, url: "/Assessment/AddNotesAnswerText", success: function (e) { $("#Contentcontainer").html(""), $("#Contentcontainer").html(e), e.success } }), $("#NoteTextArea").val("") }), $("#NoteTextArea").on("keypress", function () { $(".Notespan").text("") }), $("#FeedbackTxt").on("keypress", function () { $(".FeedbackSpan").text("") }), $("#view-progress ,#Next-view-progress").on("click", function () { AssessmentQuestionViewModel.examAnswerToShow; $("#table-container").empty(), $("#SecondTableId").empty(), $("#ThirdTableId").empty(), $("#FourthTableId").empty(), $("#myNav").show(), $("body").addClass("my-body-noscroll-class"); var e = $("#table-container"), s = $("#SecondTableId"), t = $("#ThirdTableId"), n = $("#FourthTableId"), i = "<thead><tr><td>Questions</td><td colspan='2'>Answers</td><tr></thead>"; table1 = $('<table id="ViewProgTabId">' + i + "</table>"), table2 = $('<table id="ViewProgTabId2">' + i + "</table>"), table3 = $('<table id="ViewProgTabId3">' + i + "</table>"), table4 = $('<table id="ViewProgTabId4">' + i + "</table>"), $.ajax({ url: "/Assessment/ViewProgress", type: "POST", cache: !1, dataType: "html", data: { ExamId: AssessmentQuestionViewModel.examId, ExamattemptId: AssessmentQuestionViewModel.examAttemptId }, success: function (i) { var o = JSON.parse(i); if ($(window).width() >= 769) { for (var a = 0, d = 0, r = 0, l = 0, c = 1; c <= o.length; c++)c % 4 == 1 ? a++ : c % 4 == 2 ? d++ : c % 4 == 3 ? r++ : c % 4 == 0 && l++; Math.floor(o.length / 4); var m = 0; $.each(o, function (e, s) { var t = $("<tr>"); if (t.append('<td style="cursor: pointer;" id="QustionRedirect" ExamId="' + AssessmentQuestionViewModel.examId + '" QuestionId="' + s.QuestionId + '"  ExamattemptId="' + AssessmentQuestionViewModel.examAttemptId + '" ><a>' + s.QuestionSequence + "</a></td>"), s.selectedOption != s.correctOption && "u" != s.selectedOption && 1 == AssessmentQuestionViewModel.examAnswerToShow) t.append('<td><span id="unique' + s.QuestionId + '" class="striked-font font-red">' + s.SelectedOption + "</span></td>"); else { var n = ""; n = "u" == s.SelectedOption ? "[u]" : s.SelectedOption, t.append('<td><span id="unique' + s.QuestionId + '">' + n + "</span></td>") } ++m <= a ? table1.append(t) : m <= d + a ? table2.append(t) : m <= r + d + a ? table3.append(t) : m <= l + r + d + a && table4.append(t); var i = "correctoption" + (new Date).getTime(), o = "", c = "", u = ""; Date.now(); o = "u" != s.SelectedOption && 1 == AssessmentQuestionViewModel.examAnswerToShow && s.SelectedOption != s.CorrectOption ? '<td id="' + i + '"><span class="correctoptionspan">' + s.CorrectOption + "</span>" : '<td id="' + i + '">', 1 == s.IsMarked && (c = '&nbsp;&nbsp;<i class="fa fa-star-o text-center"></i>'), 0 == s.IsMarked && (c = ""), u = 1 == s.HasNotes ? '&nbsp;<i class="fa fa-sticky-note-o text-center"></i>' : "", t.append(o + c + u + "</td>") }), e.append(table1), s.append(table2), t.append(table3), n.append(table4) } else { Math.floor(o.length), m = 0; $.each(o, function (e, s) { var t = $("<tr>"); if (t.append('<td style="cursor: pointer;" id="QustionRedirect" ExamId="' + AssessmentQuestionViewModel.examId + '" QuestionId="' + s.QuestionId + '"  ExamattemptId="' + AssessmentQuestionViewModel.examAttemptId + '" ><a>' + s.QuestionSequence + "</a></td>"), s.SelectedOption != s.CorrectOption && "u" != s.SelectedOption && 1 == AssessmentQuestionViewModel.examAnswerToShow) t.append('<td><span id="unique' + s.QuestionId + '" class="striked-font font-red">' + s.SelectedOption + "</span></td>"); else { var n = ""; n = "u" == s.SelectedOption ? "[u]" : s.SelectedOption, t.append('<td><span id="unique' + s.QuestionId + '">' + n + "</span></td>") } table1.append(t); var i = "correctoption" + (new Date).getTime(), o = "", a = "", d = ""; Date.now(); o = "u" != s.SelectedOption && 1 == AssessmentQuestionViewModel.examAnswerToShow && s.SelectedOption != s.CorrectOption ? '<td id="' + i + '"><span class="correctoptionspan">' + s.CorrectOption + "</span>" : '<td id="' + i + '">', 1 == s.IsMarked && (a = '&nbsp;&nbsp;<i class="fa fa-star-o text-center"></i>'), 0 == s.IsMarked && (a = ""), d = 1 == s.HasNotes ? '&nbsp;<i class="fa fa-sticky-note-o text-center"></i>' : "", t.append(o + a + d + "</td>") }), e.append(table1) } $("#ViewProgTabId").addClass("table table-bordered table-striped"), $("#ViewProgTabId2").addClass("table table-bordered table-striped"), $("#ViewProgTabId3").addClass("table table-bordered table-striped"), $("#ViewProgTabId4").addClass("table table-bordered table-striped") } }), $(".closebtn").off("çlick"), $(".closebtn").on("click", function () { $("#myNav").hide(), $("body").removeClass("my-body-noscroll-class") }) }), $(".saveAndExit").bind("click", function () { var e = $("input[name='ChoiceAnswer']:checked").val(), s = parseInt($("#AssExamattemptId").val()); window.location.href = "/Assessment/QuestionListIndex?ExamId=" + AssessmentQuestionViewModel.examId + "&Questionid=" + AssessmentQuestionViewModel.prev + "&ChoiceSelected=" + e + "&ExamattemptId=" + s + "&CurrentQuestionid=" + AssessmentQuestionViewModel.currentQuestionId + "&isRight=" + t + "&isExit=" + !0 }), $(document).on("click", "#QustionRedirect", function () { $(this).attr("examId"); var e = $(this).attr("questionId"); window.location.href = "/Assessment/Index?ExamId=" + AssessmentQuestionViewModel.examId + "&Questionid=" + e + "&ExamattemptId=" + AssessmentQuestionViewModel.examAttemptId }), $("#markQuestion, #Markstatus").click(function () { var e = "true" === $("#markQuestion").attr("alreadyMarked"); $.ajax({ url: "/Assessment/MarkQuestionCheck", type: "POST", data: { ExamId: AssessmentQuestionViewModel.examId, ExamattemptId: AssessmentQuestionViewModel.examAttemptId, CurrentQuestionid: AssessmentQuestionViewModel.currentQuestionId, MarkedStatus: e }, success: function (e) { 1 == e ? ($("#markQuestion").html("Bookmarked").addClass("hidden-xs"), $("#markQuestion").attr("alreadyMarked", !0), $("#markQuestion").parent().find("i").removeClass("fa-star-o").addClass("fa-star")) : 0 == e && ($("#markQuestion").html("Bookmark").addClass("hidden-xs"), $("#markQuestion").attr("alreadyMarked", !1), $("#markQuestion").parent().find("i").removeClass("fa-star").addClass("fa-star-o")) } }) }), $(".AnswerRadio").on("change", function () { var e = $("input[name='inlineRadioOptions']:checked").val(); "yes" == e ? IsYourAnswerSelected = 1 : "no" == e && (IsYourAnswerSelected = 2), $.ajax({ type: "post", data: { ExamId: AssessmentQuestionViewModel.examId, Questionid: AssessmentQuestionViewModel.currentQuestionId, ExamattemptId: AssessmentQuestionViewModel.examAttemptId, IsYourAnswer: IsYourAnswerSelected }, url: "/Assessment/SaveIsYourAnswer", success: function (e) { $("#prevID").attr("disabled", !1), $("#nextID").attr("disabled", !1) } }) }), /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream && $("body").addClass("iOS-device"), $(".modal").on("show.bs.modal", function () { i = $(window).scrollTop(), $(".iOS-device").css("top", -i) }), $(".modal").on("hide.bs.modal", function () { $(".iOS-device").removeClass("modal-open"), $(".iOS-device").css("top", 0), $(document).scrollTop(i) }); $("#Feedback").popover({ placement: "bottom", title: "Share feedback", html: !0, content: '<div id="myForm"><span class="FeedbackSpan error-text-block"></span><form id="popForm"><textarea rows="3" placeholder="Send the Academy a comment about this question or features of the application." name="FeedbackTxt" id="FeedbackTxt" style="width:300px;height:180px;"></textarea><button type="button" class="btn btn-primary pull-right martop10 marbot10" id="sendFeedbackBtn" data-loading-text="Sending info.." data-target="#mySendFeedbackModal"><em class="icon-ok"></em> Send</button><button type="button" class="btn btn-default pull-right martop10 marbot10 mar10" id="cancelFeedbackBtn" data-loading-text="Sending info.."><em class="icon-ok"></em> Cancel</button></form></div>' }).on("click", function () { var e = AssessmentQuestionViewModel.rightChoiceId, s = [], t = []; $.each(AssessmentQuestionViewModel.choiceList, function (e, n) { s.push(n.choiceText), t.push(n.choiceId) }); for (var n = 0; n < s.length; n++)t[n], s[n], e == t[n] && (s[n] = "<b>" + s[n] + "</b>"); var i = $("#VersionInfo").text(), o = AssessmentQuestionViewModel.friendlyId, a = $("#labelquestionTextId").text(), d = $("#discussion").text(), r = $("#references").text(), l = $("#userEmail").text(), c = $("#userName").text(); $("#labelquestionTextId").text(); $("textarea#FeedbackTxt").val(), $("#sendFeedbackBtn.btn-primary").click(function () { if ($("#Feedback").popover("hide"), $body = $("body"), $body.addClass("loading"), setTimeout(function () { }, 5e3), 0 == $("#FeedbackTxt").val()) { return $(".FeedbackSpan").text(" Please enter your feedback, which will be sent by email to the Academy."), !1 } var e = "User Name: " + c + "<br />User Email: " + l + "<br /><br />Browser and Platform: " + i + "<br /><br />Feedback: " + $("textarea#FeedbackTxt").val() + "<br /><br />Question ID: " + o + "<br /><br />Topic: " + AssessmentQuestionViewModel.topicName + "<br /><br />Question: " + a + "<br /><br />1." + s[0] + "<br />2." + s[1] + "<br />3." + s[2] + "<br />4." + s[3] + "<br /><br />Discussion: " + d + "<br /><br />References: " + r; e = encodeURIComponent(e), $.ajax({ type: "POST", data: { feedbackBody: e, id: o, strFileName: "", userName: c, emailId: null }, url: "/Assessment/SendFeedback", dataType: "html", success: function (e) { 1 == e ? ($body.removeClass("loading"), $("#Feedback").popover("hide"), $("#myForm").html(""), $("#sendFeedbackconfirmDialog").modal()) : ($body.removeClass("loading"), $("#sendFeedbackErrorDialog").modal()) } }) }), $("#cancelFeedbackBtn").on("click", function () { $("#Feedback").popover("hide"), $("#myForm").html("") }) }), $(".notes-panel, .panel-collapse").on("hide.bs.collapse", function () { var e = $(this).attr("excerptid"); $(this).parent().find("#quesText" + e + " .question-number-view-exam-details_Excerpt i").removeClass("fa-angle-up").addClass("fa-angle-right") }), $(".notes-panel, .panel-collapse").on("show.bs.collapse", function () { var e = $(this).attr("excerptid"); $(this).parent().find("#quesText" + e + " .question-number-view-exam-details_Excerpt i").removeClass("fa-angle-right").addClass("fa-angle-up") }) });